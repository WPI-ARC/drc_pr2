<launch>

  <!-- the ROS parameter /use_sim_time
  triggers ROS time to use the simulation time in the 
  /clock ROS topic published by gazebo rather than 
  the system wall clock time -->
  <param name="/use_sim_time" value="true" />
  <arg name="gui" default="true"/>
	  
  <node name="gazebo" pkg="gazebo" type="gazebo" args="$(find gazebo_worlds)/worlds/empty.world" respawn="false" output="screen"/>
  
   <!--	start gui -->
  <group if="$(arg gui)">
    <node name="gazebo_gui" pkg="gazebo" type="gui" respawn="false" output="screen"/>
  </group>

  <!-- Spawn the table -->  
  <node name="spawn_table" pkg="gazebo" type="spawn_model" args="-urdf -file $(find wpi_drc_sim)/descriptions/table.urdf -x 1.0 -model table" respawn="false" output="screen" /> 
 
  <!-- Spawn the racing wheel. Here we use the argument '-wait table', without it sometimes the racing wheel gets spawned faster than the table, and then it falls on the ground because of the gravity --> 
  <node name="spawn_driving_wheel" pkg="gazebo" type="spawn_model" args="-urdf -file $(find wpi_drc_sim)/descriptions/driving_wheel_full.urdf -x 1.41 -z 1.0 -Y 3.14159265359 -model wheel -wait table" respawn="false" output="screen" />

  <!-- We can now unpause physics to get gravity back -->
  <!--node name="pause_physics" pkg="wpi_drc_sim" type="un_pause_physics" args="unpause" output="screen" /--> 
  
  <!-- start pr2 robot-->
  <include file="$(find pr2_gazebo)/launch/pr2.launch"/>

</launch>
